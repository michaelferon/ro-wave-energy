}
else{
print(FALSE)
}
}
for (i in 1:length(ExperimentData7)){
if ((ExperimentData7[i] - ExperimentData7[i+1]) == (-240){
print(TRUE)
}
else{
print(FALSE)
}
}
View(ExperimentData8)
View(ExperimentData8)
View(ExperimentData9)
View(ExperimentData9)
View(ExperimentData10)
View(ExperimentData10)
View(ExperimentData11)
View(ExperimentData11)
View(ExperimentData6)
View(ExperimentData11)
View(ExperimentData2)
?vars
View(ExperimentData6)
View(dataOne)
head(ExperimentData1)
tail(ExperimentData1)
tail(ExperimentData6)
load("/Users/jonathanyun/Downloads/roenergyMoWater.rda")
## Load data and convert to tibble.
load('../data/roenergyMoWater.rda')
getwd(0)
getwd()
load("/Users/jonathanyun/Desktop/ro-wave-energy/data/roenergyMoWater.rda")
View(fulldata)
View(fulldata)
data <- fulldata %>% as_tibble
View(data)
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
View(data)
data <- data %>%
select(-date)
setwd("/Users/jonathanyun/Desktop/ro-wave-energy/data/roenergyMoWater.rda")
View(data)
data$experiment <- as.factor(data$experiment)
data$experiment <- as.factor(data$experiment)
?as.factor
View(data)
which(data$experiment == 2)
which(data$experiment == 11)
which(data$experiment == 6)
subset(data,experiment == 6)
data <- subset(data,experiment == 6)
View(data)
#load data
load("/Users/jonathanyun/Desktop/ro-wave-energy/data/roenergyMoWater.rda")
data <- fulldata %>% as_tibble
View(data)
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
View(data)
data <- data %>%
select(-date)
data$experiment <- as.factor(data$experiment)
View(data)
data <- subset(data,experiment == c(1,2,3,4,5,7,8,9,10))
experimentRow <- c(1,2,3,4,5,7,8,9,10)
length(experimentRow)
subset(data, experiment == experimentRow)
data <- subset(data,experiment == experimentRow)
View(data)
data %>%
filter(experiment != 6 && experiment != 11)
View(data)
data <- fulldata %>% as_tibble
View(data)
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
View(data)
data <- data %>%
select(-date)
data$experiment <- as.factor(data$experiment)
data %>%
filter(experiment != 6 && experiment != 11)
View(data)
which(experiment == 6)
which(data$experiment == 6)
unique(data$experiment)
data %>%
filter(experiment != 6 && experiment != 11)
data %>%
filter(experiment == 6 && experiment == 11)
View(data)
data %>%
filter(experiment != 6 && experiment != 11)
data <- data %>%
filter(experiment != 6 && experiment != 11)
unique(data$experiment)
data <- data %>%
filter(experiment == 6 && experiment == 11)
unique(data$experiment)
View(data)
data <- fulldata %>% as_tibble
data <- data %>%
filter(experiment != 6 & experiment != 11)
unique(data$experiment)
library(ggplot2)
data %>%
filter(experiment == 1) %>%
ggplot(data, aes(x = time, y = permeate_conductivity_high_us)) +
geom_line()
data %>%
filter(experiment == 1) %>%
ggplot(data, aes(x = time, y = permeate_conductivity_high_us)) +
geom_line()
data %>%
filter(experiment == 1) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line()
data %>%
filter(experiment == 2) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 2) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data <- data %>%
filter(experiment != 6 & experiment != 11)
View(data)
data <- data %>%
filter(experiment != 6 & experiment != 11) %>%
select(-iteration, -permeate_tank_level, -feed_cleaning_valve_state, -permeate_discharge_valve_state)
View(data)
unique(data$ac_current_a)
unique(data$experiment)
data %>%
filter(experiment == 2) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 2) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
#load data
load("/Users/jonathanyun/Desktop/ro-wave-energy/data/roenergyMoWater.rda")
data <- fulldata %>% as_tibble
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
data <- data %>%
select(-date)
data$experiment <- as.factor(data$experiment)
View(data)
#get rid of duplicate data rows
which(data$experiment == 6)
which(data$experiment == 11)
data <- data %>%
filter(experiment != 6 & experiment != 11) %>%
select(-iteration, -permeate_tank_level, -feed_cleaning_valve_state, -permeate_discharge_valve_state)
data <- fulldata %>% as_tibble
library(tidyverse)
library(ggplot2)
library(lubridate)
data <- fulldata %>% as_tibble
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
data <- data %>%
select(-date)
data <- data %>%
filter(experiment != 6 & experiment != 11) %>%
select(-iteration, -permeate_tank_level, -feed_cleaning_valve_state, -permeate_discharge_valve_state)
View(data)
data %>%
filter(experiment == 2) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 1) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
unique(data$reject_valve_open_pct)
unique(data$reject_flowrate_l_min)
unique(data$feed_pressure_psi)
pressureData <- data %>%
filter(experiment == 1) %>%
select(feed_pressure_psi)
View(pressureData)
pressureDataExp1 <- data %>%
filter(experiment == 1) %>%
select(feed_pressure_psi)
pressureDataExp1 <- data %>%
filter(experiment == 1) %>%
select(feed_pressure_psi)
View(pressureDataExp1)
View(pressureData)
pressureDataExp2 <- data %>%
filter(experiment == 2) %>%
select(feed_pressure_psi)
View(pressureDataExp2)
View(pressureDataExp2)
mean(pressureDataExp1)
pressureDataExp3 <- data %>%
filter(experiment == 3) %>%
select(feed_pressure_psi)
View(pressureDataExp3)
View(pressureDataExp3)
head(pressureDataExp3)
pressureDataExp4 <- data %>%
filter(experiment == 4) %>%
select(feed_pressure_psi)
View(pressureDataExp4)
View(pressureDataExp4)
round(pressureDataExp4)
unique(pressureDataExp4)
data %>%
filter(experiment == 3) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 3) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 4) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 5) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 7) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 8) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 9) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 10) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 7) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 8) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
data %>%
filter(experiment == 10) %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
geom_line(aes(x = time, y = permeate_conductivity_low_us), color = 'orangered3')
for (i in 1:9) {
df <- gather(data, key = measure, value = value,
c('permeate_conductivity_high_us', 'permeate_conductivity_low_us'))
pdf(file = paste('../plots/permeate_conductivity/permeate_conductivity', i,
'.pdf', sep = ''), height = 3.0, width = 6.5)
g <- df %>%
filter(experiment == i) %>%
ggplot(aes(time, value, group = measure, color = measure)) +
geom_line() +
ggtitle('Permeate Conductivity') +
labs(subtitle = paste('Experiment', i), color = 'Measure') +
xlab('Time') + ylab('Permeate Conductivity') + ylim(0, 1000) +
scale_color_manual(values = c('SteelBlue', 'Orange3')) +
theme_minimal()
print(g)
dev.off()
}
rm(list = ls())
rm(list = ls())
## Load libraries.
library(lubridate)
library(viridis)
library(ggplot2)
library(tidyr)
library(dplyr)
## Load data and convert to tibble.
load('../data/roenergyMoWater.rda')
data <- fulldata %>% as_tibble
rm(fulldata)
## Convert date, time to time: POSIXct.
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
## Remove some variables.
# 'permeate_tank_level', 'feed_cleaning_valve_state', and
# 'permeate_discharge_valve_state' have only one factor value.
del <- c('permeate_tank_level', 'feed_cleaning_valve_state',
'permeate_discharge_valve_state')
for (i in del) { print(length(unique(data[[i]]))) }
data <- data %>%
select(-date, -iteration, -all_of(del))
rm(del)
## Experiments 2, 11 and 1, 6 appear to be identical.
# Here's a demonstration.
data %>%
filter(experiment == 2 | experiment == 11) %>%
select(-time, -system_mode) %>%
group_by(experiment) %>%
summarise_all(mean) %>%
as.data.frame
data %>%
filter(experiment == 1 | experiment == 6) %>%
select(-time, -system_mode) %>%
group_by(experiment) %>%
summarise_all(mean) %>%
as.data.frame
data <- data %>%
filter(experiment != 6 & experiment != 11)
# Re-number experiments so as to be 1-9.
for (i in 7:10) {
data$experiment[data$experiment == i] <- i - 1
}
# Factor variables.
data <- data %>%
mutate_at(c('system_mode', 'experiment'), as.factor)
## Feed Pressure distribution plot by experiment.
ggplot(data, aes(x = feed_pressure_psi, color = experiment)) +
geom_density() +
ggtitle('Feed Pressure Distribution') +
labs(subtitle = 'by experiment', color = 'Exp.') +
xlab('Feed Pressure (psi)') + ylab('Density') +
theme_minimal()
## Some plots of conductivity.
for (i in 1:9) {
df <- gather(data, key = measure, value = value,
c('permeate_conductivity_high_us', 'permeate_conductivity_low_us'))
pdf(file = paste('../plots/permeate_conductivity/permeate_conductivity', i,
'.pdf', sep = ''), height = 3.0, width = 6.5)
g <- df %>%
filter(experiment == i) %>%
ggplot(aes(time, value, group = measure, color = measure)) +
geom_line() +
ggtitle('Permeate Conductivity') +
labs(subtitle = paste('Experiment', i), color = 'Measure') +
xlab('Time') + ylab('Permeate Conductivity') + ylim(0, 1000) +
scale_color_manual(values = c('SteelBlue', 'Orange3')) +
theme_minimal()
print(g)
dev.off()
}
data %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
facet_grid(rows = vars(experiment))
library(lubridate)
library(viridis)
library(ggplot2)
library(tidyr)
library(dplyr)
#load data
load("/Users/jonathanyun/Desktop/ro-wave-energy/data/roenergyMoWater.rda")
data <- fulldata %>% as_tibble
rm(fulldata)
## Convert date, time to time: POSIXct.
data$time <- paste(data$date, data$time) %>%
parse_date_time('%Y-%m-%d %H:%M:%S %p')
## Remove some variables.
# 'permeate_tank_level', 'feed_cleaning_valve_state', and
# 'permeate_discharge_valve_state' have only one factor value.
del <- c('permeate_tank_level', 'feed_cleaning_valve_state',
'permeate_discharge_valve_state')
for (i in del) { print(length(unique(data[[i]]))) }
data <- data %>%
select(-date, -iteration, -all_of(del))
rm(del)
## Experiments 2, 11 and 1, 6 appear to be identical.
# Here's a demonstration.
data %>%
filter(experiment == 2 | experiment == 11) %>%
select(-time, -system_mode) %>%
group_by(experiment) %>%
summarise_all(mean) %>%
as.data.frame
data %>%
filter(experiment == 1 | experiment == 6) %>%
select(-time, -system_mode) %>%
group_by(experiment) %>%
summarise_all(mean) %>%
as.data.frame
data <- data %>%
filter(experiment != 6 & experiment != 11)
# Re-number experiments so as to be 1-9.
for (i in 7:10) {
data$experiment[data$experiment == i] <- i - 1
}
# Factor variables.
data <- data %>%
mutate_at(c('system_mode', 'experiment'), as.factor)
## Feed Pressure distribution plot by experiment.
ggplot(data, aes(x = feed_pressure_psi, color = experiment)) +
geom_density() +
ggtitle('Feed Pressure Distribution') +
labs(subtitle = 'by experiment', color = 'Exp.') +
xlab('Feed Pressure (psi)') + ylab('Density') +
theme_minimal()
## Some plots of conductivity.
for (i in 1:9) {
df <- gather(data, key = measure, value = value,
c('permeate_conductivity_high_us', 'permeate_conductivity_low_us'))
pdf(file = paste('../plots/permeate_conductivity/permeate_conductivity', i,
'.pdf', sep = ''), height = 3.0, width = 6.5)
g <- df %>%
filter(experiment == i) %>%
ggplot(aes(time, value, group = measure, color = measure)) +
geom_line() +
ggtitle('Permeate Conductivity') +
labs(subtitle = paste('Experiment', i), color = 'Measure') +
xlab('Time') + ylab('Permeate Conductivity') + ylim(0, 1000) +
scale_color_manual(values = c('SteelBlue', 'Orange3')) +
theme_minimal()
print(g)
dev.off()
}
data %>%
ggplot(aes(x = time, y = permeate_conductivity_high_us)) +
geom_line(color = 'steelblue') +
facet_grid(rows = vars(experiment))
#load data
load("/Users/jonathanyun/Desktop/ro-wave-energy/data/data.Rdata")
View(data)
getwd()
setwd(/Users/jonathanyun/Desktop/ro-wave-energy)
setwd("/Users/jonathanyun/Desktop/ro-wave-energy")
## Load data and convert to tibble.
load('../data/roenergyMoWater.rda')
getwd()
setwd("/Users/jonathanyun/Desktop/ro-wave-energy/src")
getwd()
## Load data and convert to tibble.
load('../data/roenergyMoWater.rda')
## Load data.
load('../data/data.Rdata')
## Number of experiments = 9.
N <- 9
ggplot(data, aes(x = feed_pressure_psi, color = experiment)) +
geom_density() +
ggtitle('Feed Pressure Distribution') +
labs(subtitle = 'by experiment', color = 'Exp.') +
xlab('Feed Pressure (psi)') + ylab('Density') +
theme_minimal()
View(data)
View(data)
unique(data$reject_valve_open_pct)
for (i in 1:N) {
pdf(file = paste('../plots/feed_flowrate/feed_flowrate', i,
'.pdf', sep = ''), height = 4.0, width = 8.67)
g <- data %>%
filter(experiment == i) %>%
ggplot(aes(time, feed_flowrate_l_min)) +
geom_line(size = 0.25) +
ggtitle('Feed Flowrate') +
labs(subtitle = paste('Experiment', i)) +
xlab('Time') + ylab('Feed Flowrate') +
theme_minimal()
print(g)
dev.off()
}
for (i in 1:N) {
#pdf(file = paste('../plots/feed_flowrate/feed_flowrate', i,
'.pdf', sep = ''), height = 4.0, width = 8.67)
g <- data %>%
filter(experiment == i) %>%
ggplot(aes(time, feed_flowrate_l_min)) +
geom_line(size = 0.25) +
ggtitle('Feed Flowrate') +
labs(subtitle = paste('Experiment', i)) +
xlab('Time') + ylab('Feed Flowrate') +
theme_minimal()
#print(g)
#dev.off()
}
for (i in 1:N) {
#pdf(file = paste('../plots/feed_flowrate/feed_flowrate', i,
#'.pdf', sep = ''), height = 4.0, width = 8.67)
g <- data %>%
filter(experiment == i) %>%
ggplot(aes(time, feed_flowrate_l_min)) +
geom_line(size = 0.25) +
ggtitle('Feed Flowrate') +
labs(subtitle = paste('Experiment', i)) +
xlab('Time') + ylab('Feed Flowrate') +
theme_minimal()
#print(g)
#dev.off()
}
